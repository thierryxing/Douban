<!DOCTYPE html>
<html lang="zh_CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, height=device-height, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <style>/*! normalize.css v3.0.1 | MIT License | git.io/normalize */html{font-family:Droid Sans,helvetica,sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}body{font-family:-apple-system,Droid Sans,PingFang SC,Helvetica,sans-serif;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}a{text-decoration:none;-webkit-touch-callout:none}ul{list-style:none}li,ul{margin:0;padding:0}body{background:#f6f6f6}a:link,a:visited{color:#3ba94d}h1,p{margin:0}.caption-font,.content_img .img_desc{font-size:15px;line-height:23px;color:#9b9b9b}.content_img{margin:30px 0;text-align:center}.content_img img{display:block;max-width:100%;margin:auto}.content_img .img_desc{margin-top:5px}._3gCYi{padding:0 15px;margin-bottom:10px;background:#fff}._2GeoY{display:block;background:#f6f6f6;padding:10px 15px;margin:0 -15px}._2GeoY ._22Z-k{float:left;width:20px;height:20px;margin-right:10px;border-radius:3px}._2GeoY ._2-x60{font-size:15px;color:#494949}._2GeoY ._2Etn3{float:right;height:20px;width:18px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSLlm77lvaIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTAyNHB4IiBoZWlnaHQ9IjEwMjRweCIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAyNCAxMDI0IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KICA8cGF0aCBjbGFzcz0ic3ZncGF0aCIgZGF0YS1pbmRleD0icGF0aF8wIiBmaWxsPSIjYzdjN2M3IiBkPSJNNzI5Ljk4Nzc1NiA1MzQuNDQ4MjY4IDM3Ni4yOTAxNTUgODg4LjE0NTg2OWMtMTguNzM3NzYgMTguNzM3NzYtNDkuMDkyMDkyIDE4LjczNzc2LTY3LjgyODgyOCAwcy0xOC43Mzc3Ni00OS4wOTIwOTIgMC02Ny44Mjg4MjhsMjg1Ljg2ODc3My0yODUuODY4NzczTDMwOC40NjEzMjcgMjQ4LjU3OTQ5NWMtMTguNzM3NzYtMTguNzM3NzYtMTguNzM3NzYtNDkuMDkyMDkyIDAtNjcuODI4ODI4czQ5LjA5MjA5Mi0xOC43Mzc3NiA2Ny44Mjg4MjggMEw3MjkuOTg3NzU2IDUzNC40NDgyNjh6IiAvPgo8L3N2Zz4K) 50% no-repeat;background-size:contain}._3sqFk{font-size:18px;color:#494949;letter-spacing:0;margin:20px 0 13px}._3ppTS{overflow:hidden}._3ppTS ._2LbZX{float:left;width:37px;height:37px;border-radius:50%;margin-right:8px}._3ppTS .pesUb{overflow:hidden;color:#9b9b9b;margin-top:2px}._3ppTS .pesUb .bLQR1{font-size:13px}._3ppTS .pesUb .bLQR1 ._3Zg8L{color:#494949}._3ppTS .pesUb .bLQR1 ._239m4{font-size:9px;margin-left:4px;padding:0 3px;text-align:center;color:#42bd56;display:inline-block;border:1px solid #42bd56;border-radius:2px}._3ppTS .pesUb ._3aSVq{font-size:11px}._3ppTS .pesUb ._3aSVq ._2wGtG{vertical-align:middle;margin-right:4px}.wnZlx{font-size:17px;color:#494949;letter-spacing:0;line-height:30px;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;padding:25px 0}.dyEWs{padding:25px 0 25px 15px;background:#fff}._2gcfd{font-size:15px;font-weight:500;color:#494949;margin-bottom:10px}._31mVP{font-size:15px;text-align:center}._jQqm{float:left;width:30px;height:30px;border-radius:50%;margin-right:10px;margin-top:15px}._2EI96{overflow:hidden;word-wrap:break-word;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;padding:15px 15px 15px 0;position:relative}._2EI96:after{content:"";position:absolute;left:0;bottom:0;width:100%;height:1px;background:#dfdfdf;-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transform-origin:left bottom;transform-origin:left bottom}._2EI96 ._2nanI{font-size:15px;color:#494949}._2EI96 ._1SpiD{display:inline-block;max-width:120px;line-height:30px;font-weight:700;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}._2EI96 ._3hRiA{font-size:9px;margin-left:4px;padding:0 3px;text-align:center;color:#42bd56;display:inline-block;border:1px solid #42bd56;border-radius:2px;position:relative;bottom:1px}._2EI96 ._3B4UK{display:inline-block;line-height:30px;font-size:11px;color:#ccc;vertical-align:middle}._2EI96 .ZHAHo{float:right}._2EI96 .ZHAHo ._3Ejcf{display:inline-block;vertical-align:middle;height:20px;width:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA6tJREFUWAntl01IVFEUxx2dGZ3UFgMmCX3QogiiCFRsMkOIioHIlQl9QIt24SZDapObMAzaRAspWgWVEW7S0oihIHFUbBFJK6PBrJQRibQG56Pfebw3jDLvOvPeiyDmwpl777n3nvt7//vx5hUVFVJBgX+rgMup6UdHRzeWlJREifcDG8bu19XVvbQbv9huAGM8cI0ul8uN+bE2bHhiYuIm7bZEcAwQkMMCm0qlerFO7DfVjvHx8TPit5ocA0SxJoFIJpP9LG0P9XM61HVyyyo6Ajg0NFSOYrVYfHl5+a2A1dbWPiGLALoFFXeKz0pyBNDv9zcB4gZgsrm5+WcGyKKUUbUyw5dX0RFA4C7IrOTPjNlHRkZ8lHdjSVT9aPjzzW0DhsPhfUzagsVQ6q4B4Ha7A5Q92Ls1qhpdcsptA3K99DCTi/13p76+/psxa3FxsXaqqYcMn5XcFiCbv41Jj2KLKysrclrTCeADekU7NOmGPAuWAXlzVLPnbst8wHQEAoGFzLlp2yv1eDw+kenPt2zpfhocHCytqqp6BcRBJhzmSjmWObEcEK/Xuyw+4H/RL6WXE+RhfPeWlpaesjfj4lelvBUU5YB7ocNFYrHY2bUTALDJ8NFPTvMGMcqV2BH256OKioppXoVyuJRJqSB7LMjoXmyzEYUJ5KHkUMxgxzkYH4y2jNwVCoVKSVp81NRyrpvysrKyFmK0Y3v0/jdYgSsZY1cVlYA84Wd6b101Qlu11GOUu9TY2Di7pi3XqovYF3nAW4DKBd8N5NVsg9cDjDHIi5VPT09LuWhqairV1dWVlLLdpC9xP6CJgYEBb7a4Qq9K2uaem5tLtLa2ygZ3Ok3qAb9mg5M25SHhyTRAn8+nVNoqdSKR2KaPjZjFUAIag4zNbtSdynkL7ZJY7MNPZjHXA9QUNBts188CHZIY5KNmsZSAPJkGaFwTZkGs+omv/cllqd+YxVACmg1yws8dK8u7HfUWGhoa3pvFXA9QUzAajTp+SFDvtA7VT266lXIC/BtLjHIG4AMz9cS/HqBqrOU2lvckCu4gQIQPrNeqQEpAnlKT3uPxOL3E1wSK8PLdbLq80kcJKB0k8ffdMcCxsbHzqLefsF/m5+fTnwjaRFl+cnrV2QXs6+srqampqebCPwVct3Cg3uVgMKi937NwpV1KQIJ9p+dGbJEXe3qQ3QJwPey9h7nEUS4xX2ntBJvJJZCqDzHkj8Ys+XMu5RPAdar6F9oKChQU+J8U+AOITUbh0//euAAAAABJRU5ErkJggg==);background-size:contain}._2EI96 .ZHAHo ._3Ejcf._1J8Bk{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAjRJREFUWAntl79Lw0AUx5uktqJbrf4B3XWxpcVF6CD4JwiK4OC/4CI6+T8IgghdpDg4SHDSDi22qZOCIIKpuusYLCnxe6WRkvZ+pHfRJYFwuffuvffJ992lNJGIr1iBWAGmAhrTG9LZarXKhmGce553rWnafj6ffw+ZYmS5PmKRMABuFeHzgNvC+GRZ1opEun6oUkAoRwD9a1bX9WN/MumoDNA0zTQgigGQRbR9LmALNVUGmM1mi2jtdLA6VM0EbWHmygABtzGm8LfjOPYYu7BJySluNBoL6XSagMwMV4Z6d4VCQeqgKFEwlUodBOEGoLfDwJM8SwM2m80ltHeXUrxOsQubpQCr1aqRTCZPUW2KUvGZYhc2SwHmcrlDVFqmVOvatv1G8QmbJz4k+JXYxIe4wqqEQ+IQP7aAN1jXxViD/QSHxxzYmENoQPJBxjdvD3BEPZkO1AG6DdBXFiEXsN1ukzdd85NADRIjA+anSgDwE5N1QFq/xsADtxB4yrgN/0Y8NyZQgzpFzgzuK+oClcVYRTi+/j6lreGqgTb4G5yWQ8qO9B1WAi4gK1iFDy1mHhIRwKgVbLJelAuIN4wUsNfr3UgBsoJlfdh/H6VS6YWVh6sggqNU8IIFR3z/Coj2nqkA5OWYyI/23qO9D7xgroJIFEmLcfiOeHDEzwUUSRJ2DVEPf+ovReJEAFUr+AX1dkTgyBoRwJpoMto6KObC18FYcV23CPUeaWtje6xArECswB8r8AMyxpUBCqxQwwAAAABJRU5ErkJggg==)}._2EI96 .ZHAHo ._3_dpk{display:inline-block;vertical-align:middle;margin-left:2px;color:#9b9b9b;font-size:11px}._2EI96 .ZHAHo ._2THFH{display:inline-block;vertical-align:middle;height:20px;width:20px;margin-left:10px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggMy40ICgxNTU4OCkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+U2xpY2UgMjU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBza2V0Y2g6dHlwZT0iTVNQYWdlIj4KICAgICAgICA8ZyBpZD0iY29tbWVudCIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCIgc3Ryb2tlPSIjQ0NDQ0NDIiBzdHJva2Utd2lkdGg9IjIiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzgwMjM0MSwxMC4wMDAwMDA5IEM5Ljk2MDE0NTAxLDEwLjAwMDAwMDkgNy45OTgyNTYyNSwxMS45NjE4ODk3IDcuOTk4MjU2MjUsMTQuMzgxOTE5NiBMNy45OTgyNTYzNCwyMy41NTAwNDg4IEw1Ljg5MDM0NTA4LDMxLjYxODY1MDkgQzUuODcyMTA3MDcsMzEuNjY5Mzk3NiA1Ljg2MTYyNjE0LDMxLjcyMzgxNTUgNS44NjE2MjYxNCwzMS43ODA4Mzg5IEM1Ljg2MTYyNjE0LDMyLjA0NTgyMyA2LjA3NjQ1NTY4LDMyLjI2MDcxMTcgNi4zNDE0OTg5NywzMi4yNjA3MTE3IEM2LjQwNDUwMywzMi4yNjA3MTE3IDYuNDY0NDg3MSwzMi4yNDgyMTc1IDYuNTE5NTU2NDIsMzIuMjI2MTg5OCBMMTQuNzM3NzkzMSwzMC4wMjQxMjc4IEwyNy42MTgwODE0LDMwLjAyNDEyNjggQzMwLjAzODE3MDYsMzAuMDI0MTI2OCAzMi4wMDAwMDAxLDI4LjA2MjIzODEgMzIuMDAwMDAwMSwyNS42NDIyMDgxIEwzMiwxNC4zODE5MTg3IEMzMiwxMS45NjE4ODg4IDMwLjAzODE3MDUsMTAgMjcuNjE4MDgxMywxMCBMMTIuMzgwMjM0MSwxMC4wMDAwMDA5IFoiIGlkPSJGaWxsLTEiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=);background-size:contain}._2EI96 ._1jvDr{padding:8px 10px;margin-bottom:5px;background-color:#f7f7f7;border-radius:2px;font-size:13px;color:#9b9b9b}</style>
    <title></title>
  </head>
  <body>
    <div id="app"></div>
    <script>
      function showErrorMsg(msg, otherNode) {
        if (document.getElementById('errorShowing')) return;
        var errorNode = document.createElement('div');
        errorNode.id = 'errorShowing';
        errorNode.style.color = '#494949';
        errorNode.style.textAlign = 'center';
        errorNode.style.fontSize = '18px';
        errorNode.style.margin = '200px 0 0';
        var errorMsg = document.createElement('p');
        errorMsg.appendChild(document.createTextNode(msg));
        errorNode.appendChild(errorMsg);
        if (otherNode && otherNode.nodeName) {
          errorNode.appendChild(otherNode);
        }
        document.body.appendChild(errorNode);
      }
    </script>
    <script>
      function logSend(code) {
        var ua = navigator.userAgent.toLowerCase();
        var rexxarInfo = ua.match(/rexxar( |\/)([0-9.]*)/);
        var rexxarVersion = rexxarInfo ? rexxarInfo.pop().split('.').slice(0, 3).join('.') : '';
        var label = { msg: code };
        var httpRequest = new XMLHttpRequest();
        httpRequest.onreadystatechange = function() {
          if (httpRequest.readyState === XMLHttpRequest.DONE) {
            if (httpRequest.status === 200) {}
          }
        }
        if (/android/i.test(ua) && rexxarVersion >= '1.2.100') {
          var url = 'http://rexxar-container/api/log?_rexxar_method=POST&event=rexxar_page_error&label='
            + encodeURIComponent(JSON.stringify(label));
          httpRequest.open('GET', url, true);
          httpRequest.send();
        } else {
          httpRequest.open('POST', 'http://rexxar-container/api/log', true);
          httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          httpRequest.send('event=rexxar_page_error&label=' + encodeURIComponent(JSON.stringify(label)));
        }
      }
    </script>
    <script>
      window.onerror = function(errorMsg) {
        var appNode = document.getElementById('app');
        if (appNode.childNodes.length <= 0) {
          var errorCode = document.createElement('div');
          errorCode.style.fontSize = '14px';
          errorCode.style.color = '#9b9b9b';
          errorCode.style.margin = '12px';
          errorCode.appendChild(document.createTextNode('展开详情'));
          errorCode.addEventListener('click', function() {
            this.innerText = errorMsg;
          });
          showErrorMsg('糟糕，页面出现了错误 :(', errorCode);
        }
        logSend(errorMsg);
      }
    </script>
    <script>
      window.Rexxar = window.Rexxar || {};
      window.Rexxar.Lifecycle = window.Rexxar.Lifecycle || {};
      window.Rexxar.Lifecycle.onPageVisible = function() {};
      window.Rexxar.Lifecycle.onPageInvisible = function() {};
    </script>
    <script>
      var ua = navigator.userAgent.toLowerCase();
      var os;
      if (/android/i.test(ua)) {
        os = 'android';
      } else if (/ipad|iphone|ipod/.test(ua)) {
        os = 'ios';
      } else {
        os = 'web';
      }
      document.body.setAttribute('data-platform', os)
    </script>
    <script src="https://img3.doubanio.com/dae/rexxar/files/common/vendor-b22de54209.js"></script>
    <script>
      if (!window.VENDOR_START) {
        logSend('Vendor assets failed to load.');
        var reloadBtn = document.createElement('div');
        reloadBtn.style.fontSize = '14px';
        reloadBtn.style.color = '#494949';
        reloadBtn.style.margin = '12px';
        reloadBtn.appendChild(document.createTextNode('点击重试'));
        reloadBtn.addEventListener('click', function() {
          window.location.reload();
        });
        showErrorMsg("资源加载失败啦 :(", reloadBtn);
      } else if (window.VENDOR_START && !window.VENDOR_END) {
        logSend('Vendor assets load incomplete.');
        var reloadBtn = document.createElement('div');
        reloadBtn.style.fontSize = '14px';
        reloadBtn.style.color = '#494949';
        reloadBtn.style.margin = '12px';
        reloadBtn.appendChild(document.createTextNode('点击重试'));
        reloadBtn.addEventListener('click', function() {
          window.location.reload();
        });
        showErrorMsg("资源加载失败啦 :(", reloadBtn);
      }
    </script>
    <script>webpackJsonp([34],{0:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var a,i,s=r(159),c=n(s),u=r(172),l=n(u),f=r(41),h=n(f),p=r(1),d=n(p),m=r(4),g=n(m),v=r(3),y=n(v);r(554);var b=r(2),x=n(b),w=r(26),_=r(52),T=n(_),k=r(14),E=n(k),C=r(24),P=n(C),A=r(9),M=r(158),R=r(56),N=r(168),j=r(407),S=n(j),O=r(406),U=n(O),q=new T.default,I=q.getPaths(),B=I[1],z=(a=(0,M.requireLogin)({state:"loginUser"}),i=function(e){function t(r){(0,d.default)(this,t);var n=(0,g.default)(this,e.call(this,r));return n.api={loginUser:A.API_PREFIX+"/api/v2/~me",content:A.API_PREFIX+"/api/v2/forum_topic/"+r.id,popularComments:A.API_PREFIX+"/api/v2/forum_topic/"+r.id+"/popular_comments",comments:A.API_PREFIX+"/api/v2/forum_topic/"+r.id+"/comments",voteComment:A.API_PREFIX+"/api/v2/forum_topic/"+r.id+"/vote_comment"},n.count=20,n.state={loginUser:null,contentData:null,similarTopicsData:null,popularCommentsData:null,commentsData:null,commentsLocked:!1,page:1},n}return(0,y.default)(t,e),t.prototype.fetchLoginUser=function(){var e=this;E.default.get({url:this.api.loginUser,success:function(t){e.setState({loginUser:t})}})},t.prototype.fetchTopicContent=function(){var e=this;E.default.get({url:this.api.content,success:function(t){e.setState({contentData:t,commentsLocked:t.is_mute})},failure:function(e){var t=new P.default("error",e.message);t.work()}})},t.prototype.fetchPopularComments=function(){var e=this;E.default.get({url:this.api.popularComments,success:function(t){e.setState({popularCommentsData:t.comments})}})},t.prototype.fetchTopicComments=function(e){var t=this;E.default.get({url:this.api.comments,params:{start:(e-1)*this.count,count:this.count},success:function(r){t.setState({commentsData:r,page:e})},failure:function(e){var t=new P.default("error",e.message);t.work()}})},t.prototype.voteComment=function(e){for(var t=this,r=void 0,n=void 0,o=this.state.commentsData.comments,a=o.concat(this.state.popularCommentsData),i=Array.isArray(a),s=0,a=i?a:(0,l.default)(a);;){var c;if(i){if(s>=a.length)break;c=a[s++]}else{if(s=a.next(),s.done)break;c=s.value}var u=c;if(u.id===e){r=u.voted,n=u.vote_count;break}}r||E.default.post({url:this.api.voteComment,body:{comment_id:e},success:function(){var r=t.state.commentsData,o=t.mergeTopicComment(t.state.popularCommentsData,{id:e,voted:!0,vote_count:n+1}),a=t.mergeTopicComment(r.comments,{id:e,voted:!0,vote_count:n+1});t.setState({commentsData:(0,h.default)({},r,{comments:a}),popularCommentsData:o})},failure:function(e){var t=new P.default("error",e.message);t.work()}})},t.prototype.mergeTopicComment=function(e,t){var r=e.map(function(e){return e.id===t.id&&(e.voted=t.voted,e.vote_count=t.vote_count),e});return r},t.prototype.componentDidUpdate=function(){var e=this.state,t=e.contentData,r=e.commentsData;t&&r&&(0,N.dispatchMessageToClient)("topicRenderReady")},t.prototype.componentDidMount=function(){var e=this;this.fetchTopicContent(),this.fetchPopularComments(),this.fetchTopicComments(1),this.fetchLoginUser(),(0,R.onPageVisible)(function(){e.fetchLoginUser()}),(0,N.listenMessageFromClient)("setTopicCommentsPagePos",function(t){e.fetchTopicComments(t)}),(0,N.listenMessageFromClient)("scrollTopicCommentsToPos",function(e){var t=void 0;t="top"===e?document.getElementById("comments").getBoundingClientRect().top+window.pageYOffset:"bottom"===e?document.documentElement.scrollHeight:document.getElementById("comment_"+e).getBoundingClientRect().top+window.pageYOffset,document.body.scrollTop=t}),(0,N.listenMessageFromClient)("setTopic",function(t){e.setState({contentData:t})}),(0,N.listenMessageFromClient)("appendTopicComment",function(t){var r=e.state.commentsData.comments.concat(t);e.setState({commentsData:(0,h.default)({},e.state.commentsData,{comments:r})})}),(0,N.listenMessageFromClient)("removeTopicComment",function(t){var r=e.state.commentsData.comments.filter(function(e){return e.id!==t.id}),n=e.state.popularCommentsData.filter(function(e){return e.id!==t.id});e.setState({commentsData:(0,h.default)({},e.state.commentsData,{comments:r}),popularCommentsData:n})}),(0,N.listenMessageFromClient)("voteTopicComment",function(t){e.voteComment(t.toString())})},t.prototype.render=function(){return x.default.createElement("div",null,1===this.state.page?x.default.createElement(S.default,{data:this.state.contentData}):null,x.default.createElement(U.default,{data:this.state.commentsData,popularData:this.state.popularCommentsData,voteComment:this.voteComment.bind(this),page:this.state.page,locked:this.state.commentsLocked}))},t}(b.Component),o(i.prototype,"voteComment",[a],(0,c.default)(i.prototype,"voteComment"),i.prototype),i);(0,w.render)(x.default.createElement(z,{id:B}),document.getElementById("app"))},6:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,v.default)(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function a(e){return e?e.split("&").reduce(function(e,t){var r,n=t.split("="),o=n[0],a=n[1];return o=decodeURIComponent(o),a=decodeURIComponent(a),(0,m.default)({},e,(r={},r[o]=a,r))},{}):{}}function i(e){for(var t=e.split("."),r=window,n=0;n<t.length;n++){var o=t[n];r[o]=r[o]||{},r=r[o]}return r}function s(e){return Object.prototype.toString.call(e).slice(8,-1)}function c(e){if("string"==typeof e){var t=e;if(e=new Date(e.replace(/-/g,"/")).getTime()/1e3,isNaN(e))return t}var r=new Date,n=parseInt(r.getTime()/1e3,10),o=n-e,a=parseInt(o/86400,10),i=parseInt(o/3600,10),s=parseInt(o/60,10);if(a>0&&a<4)return a+"天前";if(a<=0&&i>0)return i+"小时前";if(i<=0&&s>0)return s+"分钟前";if(s<=0)return"刚刚";var c=new Date(1e3*e),u=c.getFullYear(),l="";return u!==r.getFullYear()&&(l=u+"年"),""+l+(c.getMonth()+1)+"月"+c.getDate()+"日"}function u(e,t){for(var r=e.split("."),n=t.split(".");r.length<n.length;)r.push("0");for(;n.length<r.length;)n.push("0");for(var o=0;o<r.length;o++)if(parseInt(r[o])!==parseInt(n[o])){if(parseInt(r[o])>parseInt(n[o]))return 1;if(parseInt(r[o])<parseInt(n[o]))return-1;throw new Error("Oops...Unbelievable error! We can only compare numerically!")}return 0}function l(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(e).replace(/[&<>"']/g,function(e){return t[e]})}function f(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.documentElement.appendChild(t),setTimeout(function(){return document.documentElement.removeChild(t)},0)}function h(e,t){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(r,function(e,t,r,n){return t+t+r+r+n+n});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),o=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null,a=t?","+t:"";return"rgba("+o.r+","+o.g+","+o.b+a+")"}function p(e,t){return e?e.length<=t?e:e.substring(0,t-1)+"...":""}t.__esModule=!0;var d=r(12),m=n(d),g=r(27),v=n(g);t.obj2str=o,t.str2obj=a,t.namespace=i,t.getType=s,t.formatTime=c,t.vCompare=u,t.escapeHtml=l,t.callUri=f,t.hexToRgb=h,t.truncateString=p},9:function(e,t,r){"use strict";t.__esModule=!0;var n=t.STATUS={LOADING:"LOADING",SUCCESS:"SUCCESS",ERROR:"ERROR"},o=navigator.userAgent.toLowerCase(),a=/com\.douban\.(frodo|movie)/.test(o),i=void 0;i=/android/i.test(o)?"android":/ipad|iphone|ipod/.test(o)?"ios":"unknown";var s=t.IS_DOUBANAPP=a,c=t.OS=i,u="";u="https://frodo.douban.com";var l=t.API_PREFIX=u;t.default={STATUS:n,API_PREFIX:l,IS_DOUBANAPP:s,OS:c}},10:function(e,t,r){"use strict";function n(e){var t=new RegExp(e+"( |/)([0-9.]*)"),r=navigator.userAgent.match(t),n=r?r.pop().split(".").slice(0,3).join("."):"";return n}t.__esModule=!0,t.rxrVersion=t.frdVersion=void 0;var o=r(6),a=n("com\\.douban\\.frodo(\\.test)?"),i=n("rexxar"),s=function(e,t){if("String"!==(0,o.getType)(e))throw new Error("Version value expected a string");return 0===(0,o.vCompare)(e,t||"999")},c=function(e,t){if("String"!==(0,o.getType)(e))throw new Error("Version value expected a string");return 1!==(0,o.vCompare)(e,t||"999")},u={__str__:a},l={__str__:i};[u,l].forEach(function(e){e.getStr=function(){return e.__str__},e.is=function(t){return s(t,e.__str__)},e.since=function(t){return c(t,e.__str__)}}),t.frdVersion=u,t.rxrVersion=l},11:function(e,t,r){r(34),e.exports=self.fetch.bind(self)},14:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e+"=",r=document.cookie.split(";"),n=void 0,o=void 0;for(n=0;n<r.length;n++){for(o=r[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length).replace(/\"/g,"")}return null}function a(e,t){if(t){var r=(0,v.obj2str)(t);return(e+"&"+r).replace(/[&?]/,"?")}return e}t.__esModule=!0,t.Request=void 0;var i=r(12),s=n(i),c=r(41),u=n(c),l=r(1),f=n(l),h=r(11),p=n(h),d=r(32),m=n(d),g=r(10),v=r(6);r(33).polyfill();var y="undefined"!=typeof DEV&&!DEV.INAPP,b=y,x=t.Request=function(){function e(){(0,f.default)(this,e)}return e.checkError=function(e){if(e.status>=200&&e.status<300)return e;if(518===e.status)throw new Error("无网络，请检查网络设置");return e.json().then(function(e){var t=e.localized_message,r=e.msg,n=e.code;return t||r||n}).catch(function(){return"Error: "+e.statusText})},e.parseJSON=function(e){if("string"==typeof e){var t=new Error(e);throw t}return e.json()},e.processPromise=function(e,t){var r=t.success,n=t.failure;return"function"==typeof r&&(e=e.then(r)),"function"==typeof n&&(e=e.catch(function(e){"Network request failed"===e.message&&(e.message="无网络，请检查网络设置"),n(e)})),e},e.prototype.get=function(e){var t=e.url,r=e.params,n=e.success,i=e.failure,s=this.constructor,c=void 0;b&&(r=(0,u.default)({},r,{for_mobile:1,ck:o("ck")}),c={credentials:"include",mode:"cors"},y&&delete r.for_mobile);var l=a(t,r),f=m.default,h=f(l,c).then(s.checkError).then(s.parseJSON);return s.processPromise(h,{success:n,failure:i})},e.prototype.post=function(e){var t=e.url,r=e.body,n=e.success,a=e.failure,i=this.constructor,c={},l=(0,v.getType)(r);if(["Object","Null","Undefined"].indexOf(l)>-1){var f=void 0;y&&(f={ck:o("ck")}),r=r?(0,u.default)({},r,f):f,"Object"===(0,v.getType)(r)&&(r=(0,v.obj2str)(r),c=(0,s.default)({},c,{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}))}var h={method:"POST",headers:c,body:r};b&&(h.credentials="include",h.mode="cors");var d=g.rxrVersion.since("1.2.100")?m.default:p.default;y&&(d=p.default);var x=d(t,h).then(i.checkError).then(i.parseJSON);return i.processPromise(x,{success:n,failure:a})},e}();t.default=new x},15:function(e,t,r){e.exports={default:r(30),__esModule:!0}},16:function(e,t){"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return Object.getOwnPropertyNames(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function o(e){return e?e.split("&").reduce(function(e,t){var n=t.split("="),o=s(n,2),a=o[0],c=o[1];return a=decodeURIComponent(a),c=decodeURIComponent(c),i({},e,r({},a,c))},{}):{}}function a(e){return Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.obj2str=n,t.str2obj=o,t.getType=a},17:function(e,t,r){"use strict";t.__esModule=!0,t.COMPATIBLE_NAME=void 0;var n=r(10),o=r(37),a=(t.COMPATIBLE_NAME=n.rxrVersion.since("1.2")?"widget/":"",(0,o.getRexxarWidget)({scheme:"douban",host:n.rxrVersion.since("1.2")?"rexxar-container":"rexxar.douban.com"}));t.default=a},19:function(e,t,r){var n=r(31),o=r(5),a=r(78);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*a(function(){r(1)}),"Object",i)}},21:function(e,t,r){var n,o;!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n))e.push(r.apply(null,n));else if("object"===o)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(n=[],o=function(){return r}.apply(t,n),!(void 0!==o&&(e.exports=o)))}()},22:function(e,t,r){var n=r(23),o=r(7)("toStringTag"),a="Arguments"==n(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=i(t=Object(e),o))?r:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},24:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(1),a=n(o),i=r(4),s=n(i),c=r(3),u=n(c),l=r(17),f=n(l),h=function(e){function t(r,n){(0,a.default)(this,t);var o=(0,s.default)(this,e.call(this,l.COMPATIBLE_NAME+"toast"));return o.toastInfo={level:r,message:n},o}return(0,u.default)(t,e),t.prototype.work=function(){e.prototype.call.call(this,this.toastInfo)},t}(f.default);t.default=h},25:function(e,t,r){var n,o,a,i=r(20),s=r(67),c=r(157),u=r(155),l=r(13),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,m=0,g={},v="onreadystatechange",y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};h&&p||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},p=function(e){delete g[e]},"process"==r(23)(f)?n=function(e){f.nextTick(i(y,e,1))}:d?(o=new d,a=o.port2,o.port1.onmessage=b,n=i(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):n=v in u("script")?function(e){c.appendChild(u("script"))[v]=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(i(y,e,1),0)}),e.exports={set:h,clear:p}},27:function(e,t,r){e.exports={default:r(28),__esModule:!0}},28:function(e,t,r){r(29);var n=r(5).Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},29:function(e,t,r){r(19)("getOwnPropertyNames",function(){return r(84).f})},30:function(e,t,r){var n=r(5),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},32:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=void 0,n=void 0;if(Request.prototype.isPrototypeOf(e)&&!t){if(r=e,"POST"===r.method)throw new Error("Please use `rexxarFetch(input, init)` for HTTP POST in Android")}else r=new Request(e,t);if("POST"===r.method){var o=r.headers.get("content-type"),i=t.body;if(o||i){if(!(o&&o.indexOf("application/x-www-form-urlencoded")>-1))throw new Error("rexxarFetch for Android only supports `application/x-www-form-urlencoded` as content-type");if(window&&"URLSearchParams"in window&&window.URLSearchParams.prototype.isPrototypeOf(i)&&(i=i.toString()),"String"!==(0,l.getType)(i))throw new Error("rexxarFetch for Android Cannot handle this body type");e=(e+"&"+i+"&_rexxar_method=POST").replace(/[&?]/,"?"),n=(0,u.default)(e)}else e=(e+"&_rexxar_method=POST").replace(/[&?]/,"?"),n=(0,u.default)(e)}else n=(0,u.default)(r);return n.then(a)}function a(e){if(h){var t=e.clone();return e.text().then(function(r){var n=0===r.indexOf("_error_=")?(0,l.str2obj)(r)._error_:null;if(n){var o=JSON.parse(n);if(o._network_error)throw new TypeError("Network request failed");if(o._response_error){var a={status:o._response_code,statusText:"",headers:new Headers(e.headers)},i=o._response_error,c="Object"===(0,l.getType)(i)?(0,s.default)(i):""+i;return new Response(c,a)}throw new Error("Unknown error type")}return t})}return e}t.__esModule=!0;var i=r(15),s=n(i);t.default=o;var c=r(11),u=n(c),l=r(6),f="undefined"!=typeof window?window.navigator:null,h=!f||/android/i.test(f.userAgent.toLowerCase())},33:function(e,t,r){(function(t,n){!function(t,r){e.exports=r()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function a(e){J=e}function i(e){Y=e}function s(){return function(){return t.nextTick(h)}}function c(){return function(){G(h)}}function u(){var e=0,t=new Q(h),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function l(){var e=new MessageChannel;return e.port1.onmessage=h,function(){return e.port2.postMessage(0)}}function f(){var e=setTimeout;return function(){return e(h,1)}}function h(){for(var e=0;e<Z;e+=2){var t=re[e],r=re[e+1];t(r),re[e]=void 0,re[e+1]=void 0}Z=0}function p(){try{var e=r(35);return G=e.runOnLoop||e.runOnContext,c()}catch(e){return f()}}function d(e,t){var r=arguments,n=this,o=new this.constructor(g);void 0===o[oe]&&U(o);var a=n._state;return a?!function(){var e=r[a-1];Y(function(){return j(a,o,e,n._result)})}():A(n,o,e,t),o}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(g);return k(r,e),r}function g(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return ce.error=e,ce}}function x(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function w(e,t,r){Y(function(e){var n=!1,o=x(r,t,function(r){n||(n=!0,t!==r?k(e,r):C(e,r))},function(t){n||(n=!0,P(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,P(e,o))},e)}function _(e,t){t._state===ie?C(e,t._result):t._state===se?P(e,t._result):A(t,void 0,function(t){return k(e,t)},function(t){return P(e,t)})}function T(e,t,r){t.constructor===e.constructor&&r===d&&t.constructor.resolve===m?_(e,t):r===ce?P(e,ce.error):void 0===r?C(e,t):o(r)?w(e,t,r):C(e,t)}function k(t,r){t===r?P(t,v()):e(r)?T(t,r,b(r)):C(t,r)}function E(e){e._onerror&&e._onerror(e._result),M(e)}function C(e,t){e._state===ae&&(e._result=t,e._state=ie,0!==e._subscribers.length&&Y(M,e))}function P(e,t){e._state===ae&&(e._state=se,e._result=t,Y(E,e))}function A(e,t,r,n){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+ie]=r,o[a+se]=n,0===a&&e._state&&Y(M,e)}function M(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,a=e._result,i=0;i<t.length;i+=3)n=t[i],o=t[i+r],n?j(r,n,o,a):o(a);e._subscribers.length=0}}function R(){this.error=null}function N(e,t){try{return e(t)}catch(e){return ue.error=e,ue}}function j(e,t,r,n){var a=o(r),i=void 0,s=void 0,c=void 0,u=void 0;if(a){if(i=N(r,n),i===ue?(u=!0,s=i.error,i=null):c=!0,t===i)return void P(t,y())}else i=n,c=!0;t._state!==ae||(a&&c?k(t,i):u?P(t,s):e===ie?C(t,i):e===se&&P(t,i))}function S(e,t){try{t(function(t){k(e,t)},function(t){P(e,t)})}catch(t){P(e,t)}}function O(){return le++}function U(e){e[oe]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function q(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[oe]||U(this.promise),$(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):P(this.promise,I())}function I(){return new Error("Array Methods must be provided an Array")}function B(e){return new q(this,e).promise}function z(e){var t=this;return new t($(e)?function(r,n){for(var o=e.length,a=0;a<o;a++)t.resolve(e[a]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function D(e){var t=this,r=new t(g);return P(r,e),r}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this[oe]=O(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&L(),this instanceof H?S(this,e):F())}function V(){var e=void 0;if("undefined"!=typeof n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=H}var W=void 0;W=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var $=W,Z=0,G=void 0,J=void 0,Y=function(e,t){re[Z]=e,re[Z+1]=t,Z+=2,2===Z&&(J?J(h):ne())},X="undefined"!=typeof window?window:void 0,K=X||{},Q=K.MutationObserver||K.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3),ne=void 0;ne=ee?s():Q?u():te?l():void 0===X?p():f();var oe=Math.random().toString(36).substring(16),ae=void 0,ie=1,se=2,ce=new R,ue=new R,le=0;return q.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===ae&&r<e;r++)this._eachEntry(t[r],r)},q.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===m){var o=b(e);if(o===d&&e._state!==ae)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===H){var a=new r(g);T(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},q.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===ae&&(this._remaining--,e===se?P(n,r):this._result[t]=r),0===this._remaining&&C(n,this._result)},q.prototype._willSettleAt=function(e,t){var r=this;A(e,void 0,function(e){return r._settledAt(ie,t,e)},function(e){return r._settledAt(se,t,e)})},H.all=B,H.race=z,H.resolve=m,H.reject=D,H._setScheduler=a,H._setAsap=i,H._asap=Y,H.prototype={constructor:H,then:d,catch:function(e){return this.then(null,e)}},V(),H.polyfill=V,H.Promise=H,H})}).call(t,r(91),function(){return this}())},34:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=i(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=i(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var r=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function m(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,n){e=t(e),n=r(n);var o=this.map[e];this.map[e]=o?o+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];g.redirect=function(e,t){if(_.indexOf(t)===-1)throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=g,e.fetch=function(e,t){return new Promise(function(r,n){var o=new p(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:m(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new g(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},35:function(e,t){},36:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=e.scheme,r=e.host;if(!t||"String"!==(0,i.getType)(t))throw new Error("getRexxarWidget config `scheme` expected a non-empty string.");if(!r||"String"!==(0,i.getType)(r))throw new Error("getRexxarWidget config `host` expected a non-empty string.");return function(){function e(t){n(this,e),this.name=t}return a(e,[{key:"call",value:function(e){var n=void 0;if("Object"===(0,i.getType)(e))n="?"+(0,i.obj2str)(e);else{if(null!==e&&void 0!==e)throw new Error("`call` method in RexxarWidget expected argument to be an object.");n=""}var o="/"+this.name,a=document.createElement("iframe");a.src=t+"://"+r+o+n,a.style.display="none",document.documentElement.appendChild(a),setTimeout(function(){document.documentElement.removeChild(a)},0)}}]),e}()}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=o;var i=r(16)},37:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rexxarFetch=t.getRexxarWidget=void 0;var o=r(36),a=n(o),i=r(38),s=n(i);t.getRexxarWidget=a.default,t.rexxarFetch=s.default},38:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=void 0,n=void 0;if(Request.prototype.isPrototypeOf(e)&&!t){if(r=e,"POST"===r.method&&l)throw new Error("Please use `rexxarFetch(input, init)` for HTTP POST in Android")}else r=new Request(e,t);if("POST"===r.method&&l){var o=r.headers.get("content-type"),i=t.body;
if(o||i){if(!(o&&o.indexOf("application/x-www-form-urlencoded")>-1))throw new Error("rexxarFetch for Android only supports `application/x-www-form-urlencoded` as content-type");if(window&&"URLSearchParams"in window&&URLSearchParams.prototype.isPrototypeOf(i)&&(i=i.toString()),"String"!==(0,c.getType)(i))throw new Error("rexxarFetch for Android Cannot handle this body type");e=(e+"&"+i+"&_rexxar_method=POST").replace(/[&?]/,"?"),n=(0,s.default)(e)}else e=(e+"&_rexxar_method=POST").replace(/[&?]/,"?"),n=(0,s.default)(e)}else n=(0,s.default)(r);return n.then(a)}function a(e){if(l){var t=e.clone();return e.text().then(function(r){var n=0===r.indexOf("_error_=")?(0,c.str2obj)(r)._error_:null;if(n){var o=JSON.parse(n);if(o._network_error)throw new TypeError("Network request failed");if(o._response_error){var a={status:o._response_code,statusText:"",headers:new Headers(e.headers)},i=o._response_error,s="Object"===(0,c.getType)(i)?JSON.stringify(i):""+i;return new Response(s,a)}throw new Error("Unknown error type")}return t})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=r(11),s=n(i),c=r(16),u="undefined"!=typeof window?window.navigator:null,l=!u||/android/i.test(u.userAgent.toLowerCase())},43:function(e,t,r){var n=r(22),o=r(7)("iterator"),a=r(54);e.exports=r(5).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||a[n(e)]}},46:function(e,t,r){(function(t){"use strict";function n(e){e=e||t.location||{};var r,n={},o=typeof e;if("blob:"===e.protocol)n=new i(unescape(e.pathname),{});else if("string"===o){n=new i(e,{});for(r in d)delete n[r]}else if("object"===o){for(r in e)r in d||(n[r]=e[r]);void 0===n.slashes&&(n.slashes=h.test(e.href))}return n}function o(e){var t=f.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function a(e,t){for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],a=!1,i=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),i++):i&&(0===n&&(a=!0),r.splice(n,1),i--);return a&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var s,c,f,h,d,m,g=p.slice(),v=typeof t,y=this,b=0;for("object"!==v&&"string"!==v&&(r=t,t=null),r&&"function"!=typeof r&&(r=l.parse),t=n(t),c=o(e||""),s=!c.protocol&&!c.slashes,y.slashes=c.slashes||s&&t.slashes,y.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(g[2]=[/(.*)/,"pathname"]);b<g.length;b++)h=g[b],f=h[0],m=h[1],f!==f?y[m]=e:"string"==typeof f?~(d=e.indexOf(f))&&("number"==typeof h[2]?(y[m]=e.slice(0,d),e=e.slice(d+h[2])):(y[m]=e.slice(d),e=e.slice(0,d))):(d=f.exec(e))&&(y[m]=d[1],e=e.slice(0,d.index)),y[m]=y[m]||(s&&h[3]?t[m]||"":""),h[4]&&(y[m]=y[m].toLowerCase());r&&(y.query=r(y.query)),s&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=a(y.pathname,t.pathname)),u(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(h=y.auth.split(":"),y.username=h[0]||"",y.password=h[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}function s(e,t,r){var n=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||l.parse)(t)),n[e]=t;break;case"port":n[e]=t,u(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,/:\d+$/.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!r;break;case"pathname":n.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:n[e]=t}for(var o=0;o<p.length;o++){var a=p[o];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function c(e){e&&"function"==typeof e||(e=l.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,t="object"==typeof r.query?e(r.query):r.query,t&&(o+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(o+=r.hash),o}var u=r(49),l=r(48),f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};i.prototype={set:s,toString:c},i.extractProtocol=o,i.location=n,i.qs=l,e.exports=i}).call(t,function(){return this}())},47:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(15),a=n(o),i=r(1),s=n(i),c=r(4),u=n(c),l=r(3),f=n(l),h=r(17),p=n(h),d=r(10),m=r(83),g=n(m),v=function(e){function t(r,n){(0,s.default)(this,t);var o=(0,u.default)(this,e.call(this,h.COMPATIBLE_NAME+"log"));return o.logInfo={event:r,label:(0,a.default)(n)},o}return(0,f.default)(t,e),t.prototype.work=function(){d.rxrVersion.since("1.2")?g.default.sendLog(this.logInfo):e.prototype.call.call(this,this.logInfo)},t}(p.default);t.default=v},48:function(e,t){"use strict";function r(e){return decodeURIComponent(e.replace(/\+/g," "))}function n(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);o[r(t[1])]=r(t[2]));return o}function o(e,t){t=t||"";var r=[];"string"!=typeof t&&(t="?");for(var n in e)a.call(e,n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return r.length?t+r.join("&"):""}var a=Object.prototype.hasOwnProperty;t.stringify=o,t.parse=n},49:function(e,t){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},50:function(e,t,r){e.exports={default:r(66),__esModule:!0}},52:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(1),a=n(o),i=r(46),s=n(i),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;(0,a.default)(this,e);var r=(0,s.default)(t,!0).query.uri||t,n=(0,s.default)(r,!0);this.href=n.href,this.pathname=n.pathname,this.query=n.query,this.hash=n.hash}return e.prototype.getPaths=function(){var e=this.pathname.replace(/^(\/)/,"").split("/").filter(String);return e},e.prototype.getQuery=function(){return this.query},e.prototype.getHash=function(){return this.hash},e}();t.default=c},56:function(e,t,r){"use strict";function n(e){a(e,"onPageVisible")}function o(e){a(e,"onPageInvisible")}function a(e,t){var r=(0,i.namespace)("Rexxar.Lifecycle")[t];"Function"===(0,i.getType)(r)?(0,i.namespace)("Rexxar.Lifecycle")[t]=function(){r(),e()}:(0,i.namespace)("Rexxar.Lifecycle")[t]=e}t.__esModule=!0,t.onPageVisible=n,t.onPageInvisible=o;var i=r(6)},57:function(e,t,r){var n=r(20),o=r(59),a=r(58),i=r(18),s=r(150),c=r(43),u={},l={},t=e.exports=function(e,t,r,f,h){var p,d,m,g,v=h?function(){return e}:c(e),y=n(r,f,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(p=s(e.length);p>b;b++)if(g=t?y(i(d=e[b])[0],d[1]):y(e[b]),g===u||g===l)return g}else for(m=v.call(e);!(d=m.next()).done;)if(g=o(m,y,d.value,t),g===u||g===l)return g};t.BREAK=u,t.RETURN=l},58:function(e,t,r){var n=r(54),o=r(7)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[o]===e)}},59:function(e,t,r){var n=r(18);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},60:function(e,t,r){var n=r(7)("iterator"),o=!1;try{var a=[7][n]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var a=[7],i=a[n]();i.next=function(){return{done:r=!0}},a[n]=function(){return i},e(a)}catch(e){}return r}},63:function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},64:function(e,t,r){var n=r(117);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},65:function(e,t,r){"use strict";var n=r(13),o=r(5),a=r(107),i=r(109),s=r(7)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},66:function(e,t,r){r(156),r(85),r(108),r(70),e.exports=r(5).Promise},67:function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},68:function(e,t,r){var n=r(13),o=r(25).set,a=n.MutationObserver||n.WebKitMutationObserver,i=n.process,s=n.Promise,c="process"==r(23)(i);e.exports=function(){var e,t,r,u=function(){var n,o;for(c&&(n=i.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){i.nextTick(u)};else if(a){var l=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),r=function(){f.data=l=!l}}else if(s&&s.resolve){var h=s.resolve();r=function(){h.then(u)}}else r=function(){o.call(n,u)};return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},69:function(e,t,r){var n=r(18),o=r(62),a=r(7)("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||void 0==(r=n(i)[a])?t:o(r)}},70:function(e,t,r){"use strict";var n,o,a,i=r(153),s=r(13),c=r(20),u=r(22),l=r(31),f=r(118),h=r(62),p=r(63),d=r(57),m=r(69),g=r(25).set,v=r(68)(),y="Promise",b=s.TypeError,x=s.process,w=s[y],x=s.process,_="process"==u(x),T=function(){},k=!!function(){try{var e=w.resolve(1),t=(e.constructor={})[r(7)("species")]=function(e){e(T,T)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t}catch(e){}}(),E=function(e,t){return e===t||e===w&&t===a},C=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e){return E(w,e)?new A(e):new o(e)},A=o=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw b("Bad Promise constructor");t=e,r=n}),this.resolve=h(t),this.reject=h(r)},M=function(e){try{e()}catch(e){return{error:e}}},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;v(function(){for(var n=e._v,o=1==e._s,a=0,i=function(t){var r,a,i=o?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{i?(o||(2==e._h&&S(e),e._h=1),i===!0?r=n:(u&&u.enter(),r=i(n),u&&u.exit()),r===t.promise?c(b("Promise-chain cycle")):(a=C(r))?a.call(r,s,c):s(r)):c(n)}catch(e){c(e)}};r.length>a;)i(r[a++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){g.call(s,function(){var t,r,n,o=e._v;if(j(e)&&(t=M(function(){_?x.emit("unhandledRejection",o,e):(r=s.onunhandledrejection)?r({promise:e,reason:o}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=_||j(e)?2:1),e._a=void 0,t)throw t.error})},j=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,n=0;r.length>n;)if(t=r[n++],t.fail||!j(t.promise))return!1;return!0},S=function(e){g.call(s,function(){var t;_?x.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},O=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},U=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw b("Promise can't be resolved itself");(t=C(e))?v(function(){var n={_w:r,_d:!1};try{t.call(e,c(U,n,1),c(O,n,1))}catch(e){O.call(n,e)}}):(r._v=e,r._s=1,R(r,!1))}catch(e){O.call({_w:r,_d:!1},e)}}};k||(w=function(e){p(this,w,y,"_h"),h(e),n.call(this);try{e(c(U,this,1),c(O,this,1))}catch(e){O.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r(64)(w.prototype,{then:function(e,t){var r=P(m(this,w));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=_?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),A=function(){var e=new n;this.promise=e,this.resolve=c(U,e,1),this.reject=c(O,e,1)}),l(l.G+l.W+l.F*!k,{Promise:w}),r(151)(w,y),r(65)(y),a=r(5)[y],l(l.S+l.F*!k,y,{reject:function(e){var t=P(this),r=t.reject;return r(e),t.promise}}),l(l.S+l.F*(i||!k),y,{resolve:function(e){if(e instanceof w&&E(e.constructor,this))return e;var t=P(this),r=t.resolve;return r(e),t.promise}}),l(l.S+l.F*!(k&&r(60)(function(e){w.all(e).catch(T)})),y,{all:function(e){var t=this,r=P(t),n=r.resolve,o=r.reject,a=M(function(){var r=[],a=0,i=1;d(e,!1,function(e){var s=a++,c=!1;r.push(void 0),i++,t.resolve(e).then(function(e){c||(c=!0,r[s]=e,--i||n(r))},o)}),--i||n(r)});return a&&o(a.error),r.promise},race:function(e){var t=this,r=P(t),n=r.reject,o=M(function(){d(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},83:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.ClientApi=void 0;var o=r(50),a=n(o),i=r(1),s=n(i),c=r(14),u=n(c),l="http://rexxar-container/api/",f=t.ClientApi=function(){function e(){(0,s.default)(this,e)}return e.processGet=function(e){var t=e.type,r=e.params,n=e.success,o=e.failure;u.default.get({url:l+t,params:r,success:n,failure:o})},e.processPost=function(e){var t=e.type,r=e.body,n=e.success,o=e.failure;u.default.post({url:l+t,body:r,success:n,failure:o})},e.prototype.sendLog=function(e){var t=this;return new a.default(function(r,n){t.constructor.processPost({type:"log",body:e,success:function(e){r(e)},failure:function(e){n(e)}})})},e.prototype.getGeo=function(){var e=this;return new a.default(function(t,r){e.constructor.processGet({type:"geo",success:function(e){0===e.lat&&0===e.lng?r(e):t(e)},failure:function(e){r(e)}})})},e.prototype.getEventLocation=function(){var e=this;return new a.default(function(t,r){e.constructor.processGet({type:"event_location",success:function(e){t(e)},failure:function(e){r(e)}})})},e.prototype.setEventLocation=function(e){var t=this;return new a.default(function(r,n){t.constructor.processPost({type:"set_event_location",body:e,success:function(e){r(e)},failure:function(e){n(e)}})})},e}();t.default=new f},158:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.requireLogin=void 0;var o=r(6),a=r(10),i=r(24),s=n(i);t.requireLogin=function(e){var t=e.state,r=e.props;return function(e,n,i){var c=i.value;i.value=function(){var e=t?"state":"props",n=t?t:r;if(null!==this[e][n]){for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return c.apply(this,u)}if(a.frdVersion.since("4.9"))(0,o.callUri)("douban://douban.com/accounts/login");else{var f=new s.default("error","你还没有登录，请先登录:)");f.work()}}}}},159:function(e,t,r){e.exports={default:r(164),__esModule:!0}},164:function(e,t,r){r(165);var n=r(5).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},165:function(e,t,r){var n=r(171),o=r(177).f;r(19)("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},168:function(e,t,r){"use strict";function n(e,t){(0,a.namespace)("Rexxar.Partial")[e]=function(e){var r=void 0;try{r=JSON.parse(e)}catch(t){r=e}t(r)}}function o(e,t){var r="Object"===(0,a.getType)(t)?"?"+(0,a.obj2str)(t):"",n="douban://rexxar-container/partial/"+e+r;(0,a.callUri)(n)}t.__esModule=!0,t.listenMessageFromClient=n,t.dispatchMessageToClient=o;var a=r(6)},172:function(e,t,r){e.exports={default:r(173),__esModule:!0}},173:function(e,t,r){r(108),r(85),e.exports=r(174)},174:function(e,t,r){var n=r(18),o=r(43);e.exports=r(5).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},180:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o,a,i=r(1),s=n(i),c=r(4),u=n(c),l=r(3),f=n(l),h=r(2),p=n(h),d=r(6),m=(a=o=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.convertLink=function(e){return e=(0,d.escapeHtml)(e),e=e.replace(t.linkReg,'<a href="$1$2" rel="nofollow">$1$2</a>')},t.prototype.render=function(){var e=this.props,t=e.text,r=e.className;return p.default.createElement("p",{className:r,dangerouslySetInnerHTML:{__html:this.convertLink(t)}})},t}(h.Component),o.linkReg=new RegExp((0,d.escapeHtml)("(http://|https://)([a-zA-Z0-9\\.\\-%/\\?&_=\\+#:~!,'\\*\\^$]+)"),"g"),a);t.default=m},245:function(e,t,r){var n,o,a;!function(r,i){o=[],n=i,a="function"==typeof n?n.apply(t,o):n,!(void 0!==a&&(e.exports=a))}(this,function(){var e=function(t){t=t||{},this.version=e.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"!=typeof t.email||t.email,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.mention=t.mention||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"!=typeof t.stripTrailingSlash||t.stripTrailingSlash;var r=this.mention;if(r!==!1&&"twitter"!==r&&"instagram"!==r)throw new Error("invalid `mention` cfg - see docs");var n=this.hashtag;if(n!==!1&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.context=t.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return e.link=function(t,r){var n=new e(r);return n.link(t)},e.parse=function(t,r){var n=new e(r);return n.parse(t)},e.version="1.4.3",e.prototype={constructor:e,normalizeUrlsCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},normalizeStripPrefixCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:e.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser(),r=t.parse(e),n=0,o=[],a=0,i=r.length;a<i;a++){var s=r[a],c=s.getType();if("element"===c&&"a"===s.getTagName())s.isClosing()?n=Math.max(n-1,0):n++;else if("text"===c&&0===n){var u=this.parseText(s.getText(),s.getOffset());o.push.apply(o,u)}}return o=this.compactMatches(o),o=this.removeUnwantedMatches(o)},compactMatches:function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++){var r=e[t],n=r.getOffset(),o=r.getMatchedText().length,a=n+o;if(t+1<e.length){if(e[t+1].getOffset()===n){var i=e[t+1].getMatchedText().length>o?t:t+1;e.splice(i,1);continue}e[t+1].getOffset()<=a&&e.splice(t+1,1)}}return e},removeUnwantedMatches:function(t){var r=e.Util.remove;return this.hashtag||r(t,function(e){return"hashtag"===e.getType()}),this.email||r(t,function(e){return"email"===e.getType()}),this.phone||r(t,function(e){return"phone"===e.getType()}),this.mention||r(t,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||r(t,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.wwwMatches||r(t,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}),this.urls.tldMatches||r(t,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),t},parseText:function(e,t){t=t||0;for(var r=this.getMatchers(),n=[],o=0,a=r.length;o<a;o++){for(var i=r[o].parseMatches(e),s=0,c=i.length;s<c;s++)i[s].setOffset(t+i[s].getOffset());n.push.apply(n,i)}return n},link:function(e){if(!e)return"";for(var t=this.parse(e),r=[],n=0,o=0,a=t.length;o<a;o++){var i=t[o];r.push(e.substring(n,i.getOffset())),r.push(this.createMatchReturnVal(i)),n=i.getOffset()+i.getMatchedText().length}return r.push(e.substring(n)),r.join("")},createMatchReturnVal:function(t){var r;if(this.replaceFn&&(r=this.replaceFn.call(this.context,t)),"string"==typeof r)return r;if(r===!1)return t.getMatchedText();if(r instanceof e.HtmlTag)return r.toAnchorString();var n=t.buildTag();return n.toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=e.matcher,r=this.getTagBuilder(),n=[new t.Hashtag({tagBuilder:r,serviceName:this.hashtag}),new t.Email({tagBuilder:r}),new t.Phone({tagBuilder:r}),new t.Mention({tagBuilder:r,serviceName:this.mention}),new t.Url({tagBuilder:r,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash})];return this.matchers=n},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.match={},e.matcher={},e.htmlParser={},e.truncate={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},defaults:function(e,t){for(var r in t)t.hasOwnProperty(r)&&void 0===e[r]&&(e[r]=t[r]);return e},extend:function(t,r){var n=t.prototype,o=function(){};o.prototype=n;var a;a=r.hasOwnProperty("constructor")?r.constructor:function(){n.constructor.apply(this,arguments)};var i=a.prototype=new o;return i.constructor=a,i.superclass=n,delete r.constructor,e.Util.assign(i,r),a},ellipsis:function(e,t,r){var n;return e.length>t&&(null==r?(r="&hellip;",n=3):n=r.length,e=e.substring(0,t-n)+r),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},remove:function(e,t){for(var r=e.length-1;r>=0;r--)t(e[r])===!0&&e.splice(r,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var r,n=[],o=0;r=t.exec(e);)n.push(e.substring(o,r.index)),n.push(r[0]),o=r.index+r[0].length;return n.push(e.substring(o)),n},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){var r=this.getAttrs();return r[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var r=this.getAttrs();return e.Util.assign(r,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var r,n=this.getClass(),o=this.whitespaceRegex,a=e.Util.indexOf,i=n?n.split(o):[],s=t.split(o);r=s.shift();)a(i,r)===-1&&i.push(r);return this.getAttrs().class=i.join(" "),this},removeClass:function(t){for(var r,n=this.getClass(),o=this.whitespaceRegex,a=e.Util.indexOf,i=n?n.split(o):[],s=t.split(o);i.length&&(r=s.shift());){var c=a(i,r);c!==-1&&i.splice(c,1)}return this.getAttrs().class=i.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return(" "+this.getClass()+" ").indexOf(" "+e+" ")!==-1},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+'="'+e[r]+'"');return t.join(" ")}}),e.RegexLib=function(){var e="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",t="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",r=e+t,n=new RegExp("["+r+".\\-]*["+r+"\\-]");return{alphaNumericCharsStr:r,alphaCharsStr:e,domainNameRegex:n}}(),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(e){e=e||{},this.newWindow=e.newWindow,this.truncate=e.truncate,this.className=e.className},build:function(t){return new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(e){var t={href:e.getAnchorHref()},r=this.createCssClass(e);return r&&(t.class=r),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},createCssClass:function(e){var t=this.className;if(t){for(var r=[t],n=e.getCssClassSuffixes(),o=0,a=n.length;o<a;o++)r.push(t+"-"+n[o]);return r.join(" ")}return""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){var r=this.truncate;if(!r||!r.length)return t;var n=r.length,o=r.location;return"smart"===o?e.truncate.TruncateSmart(t,n):"middle"===o?e.truncate.TruncateMiddle(t,n):e.truncate.TruncateEnd(t,n)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/!--([\s\S]+?)--/,t=/[0-9a-zA-Z][0-9a-zA-Z:]*/,r=/[^\s"'>\/=\x00-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,o=r.source+"(?:\\s*=\\s*"+n.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",o,"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",e.source,"|","(?:","("+t.source+")","\\s*/?",")","|","(?:","("+t.source+")","\\s+","(?:","(?:\\s+|\\b)",o,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,r,n=this.htmlRegex,o=0,a=[];null!==(t=n.exec(e));){var i=t[0],s=t[3],c=t[1]||t[4]||t[5],u=!!t[2],l=t.index,f=e.substring(o,l);f&&(r=this.parseTextAndEntityNodes(o,f),a.push.apply(a,r)),s?a.push(this.createCommentNode(l,i,s)):a.push(this.createElementNode(l,i,c,u)),o=l+i.length}if(o<e.length){var h=e.substring(o);h&&(r=this.parseTextAndEntityNodes(o,h),r.forEach(function(e){a.push(e)}))}return a},parseTextAndEntityNodes:function(t,r){for(var n=[],o=e.Util.splitAndCapture(r,this.htmlCharacterEntitiesRegex),a=0,i=o.length;a<i;a+=2){var s=o[a],c=o[a+1];s&&(n.push(this.createTextNode(t,s)),t+=s.length),c&&(n.push(this.createEntityNode(t,c)),t+=c.length)}return n},createCommentNode:function(t,r,n){return new e.htmlParser.CommentNode({offset:t,text:r,comment:e.Util.trim(n)})},createElementNode:function(t,r,n,o){return new e.htmlParser.ElementNode({offset:t,text:r,tagName:n.toLowerCase(),closing:o})},createEntityNode:function(t,r){return new e.htmlParser.EntityNode({offset:t,text:r})},createTextNode:function(t,r){return new e.htmlParser.TextNode({offset:t,text:r})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(e.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:e.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.match.Match=e.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),e.match.Email=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Mention=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.serviceName)throw new Error("`serviceName` cfg required");if(!t.mention)throw new Error("`mention` cfg required");this.mention=t.mention,this.serviceName=t.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var t=e.match.Match.prototype.getCssClassSuffixes.call(this),r=this.getServiceName();return r&&t.push(r),t}}),e.match.Url=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");
if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),e},stripSchemePrefix:function(e){return e.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(e){return e.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}}),e.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,e.matcher.Matcher=e.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:e.Util.abstractMethod}),e.matcher.Email=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.alphaNumericCharsStr,r=new RegExp("["+t+"\\-_';:&=+$.,]+@"),n=e.RegexLib.domainNameRegex,o=e.tldRegex;return new RegExp([r.source,n.source,"\\.",o.source].join(""),"gi")}(),parseMatches:function(t){for(var r,n=this.matcherRegex,o=this.tagBuilder,a=[];null!==(r=n.exec(t));){var i=r[0];a.push(new e.match.Email({tagBuilder:o,matchedText:i,offset:r.index,email:i}))}return a}}),e.matcher.Hashtag=e.Util.extend(e.matcher.Matcher,{matcherRegex:new RegExp("#[_"+e.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var r,n=this.matcherRegex,o=this.nonWordCharRegex,a=this.serviceName,i=this.tagBuilder,s=[];null!==(r=n.exec(t));){var c=r.index,u=t.charAt(c-1);if(0===c||o.test(u)){var l=r[0],f=r[0].slice(1);s.push(new e.match.Hashtag({tagBuilder:i,matchedText:l,offset:c,serviceName:a,hashtag:f}))}}return s}}),e.matcher.Phone=e.Util.extend(e.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(t){for(var r,n=this.matcherRegex,o=this.tagBuilder,a=[];null!==(r=n.exec(t));){var i=r[0],s=i.replace(/[^0-9,;#]/g,""),c=!!r[1];/\D/.test(r[2])&&/\D/.test(i)&&a.push(new e.match.Phone({tagBuilder:o,matchedText:i,offset:r.index,number:s,plusSign:c}))}return a}}),e.matcher.Mention=e.Util.extend(e.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+e.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+e.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){var r,n=this.matcherRegexes[this.serviceName],o=this.nonWordCharRegex,a=this.serviceName,i=this.tagBuilder,s=[];if(!n)return s;for(;null!==(r=n.exec(t));){var c=r.index,u=t.charAt(c-1);if(0===c||o.test(u)){var l=r[0].replace(/\.+$/g,""),f=l.slice(1);s.push(new e.match.Mention({tagBuilder:i,matchedText:l,offset:c,serviceName:a,mention:f}))}}return s}}),e.matcher.Url=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/,r=/(?:www\.)/,n=e.RegexLib.domainNameRegex,o=e.tldRegex,a=e.RegexLib.alphaNumericCharsStr,i=new RegExp("[/?#](?:["+a+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+a+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",t.source,n.source,")","|","(","(//)?",r.source,n.source,")","|","(","(//)?",n.source+"\\.",o.source,"(?![-"+a+"])",")",")","(?::[0-9]+)?","(?:"+i.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+e.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(e.matcher.Matcher.prototype.constructor.call(this,t),null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash},parseMatches:function(t){for(var r,n=this.matcherRegex,o=this.stripPrefix,a=this.stripTrailingSlash,i=this.tagBuilder,s=[];null!==(r=n.exec(t));){var c=r[0],u=r[1],l=r[2],f=r[3],h=r[5],p=r.index,d=f||h,m=t.charAt(p-1);if(e.matcher.UrlMatchValidator.isValid(c,u)&&!(p>0&&"@"===m||p>0&&d&&this.wordCharRegExp.test(m))){if(/\?$/.test(c)&&(c=c.substr(0,c.length-1)),this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var g=this.matchHasInvalidCharAfterTld(c,u);g>-1&&(c=c.substr(0,g))}var v=u?"scheme":l?"www":"tld",y=!!u;s.push(new e.match.Url({tagBuilder:i,matchedText:c,offset:p,urlMatchType:v,url:c,protocolUrlMatch:y,protocolRelativeMatch:!!d,stripPrefix:o,stripTrailingSlash:a}))}}return s},matchHasUnbalancedClosingParen:function(e){var t=e.charAt(e.length-1);if(")"===t){var r=e.match(this.openParensRe),n=e.match(this.closeParensRe),o=r&&r.length||0,a=n&&n.length||0;if(o<a)return!0}return!1},matchHasInvalidCharAfterTld:function(t,r){if(!t)return-1;var n=0;r&&(n=t.indexOf(":"),t=t.slice(n));var o=e.RegexLib.alphaNumericCharsStr,a=new RegExp("^((.?//)?[-."+o+"]*[-"+o+"]\\.[-"+o+"]+)"),i=a.exec(t);return null===i?-1:(n+=i[1].length,t=t.slice(i[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?n:-1)}}),e.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+e.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},isValidIpAddress:function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source),r=e.match(t);return null!==r},containsMultipleDots:function(e){return e.indexOf("..")>-1},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||e.indexOf(".")!==-1)},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)}},e.truncate.TruncateEnd=function(t,r,n){return e.Util.ellipsis(t,r,n)},e.truncate.TruncateMiddle=function(e,t,r){if(e.length<=t)return e;var n,o;null==r?(r="&hellip;",n=8,o=3):(n=r.length,o=r.length);var a=t-o,i="";return a>0&&(i=e.substr(-1*Math.floor(a/2))),(e.substr(0,Math.ceil(a/2))+r+i).substr(0,a+n)},e.truncate.TruncateSmart=function(e,t,r){var n,o;null==r?(r="&hellip;",o=3,n=8):(o=r.length,n=r.length);var a=function(e){var t={},r=e,n=r.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],r=r.substr(n[0].length)),n=r.match(/^(.*?)(?=(\?|#|\/|$))/i),n&&(t.host=n[1],r=r.substr(n[0].length)),n=r.match(/^\/(.*?)(?=(\?|#|$))/i),n&&(t.path=n[1],r=r.substr(n[0].length)),n=r.match(/^\?(.*?)(?=(#|$))/i),n&&(t.query=n[1],r=r.substr(n[0].length)),n=r.match(/^#(.*?)$/i),n&&(t.fragment=n[1]),t},i=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},s=function(e,t){var n=t/2,o=Math.ceil(n),a=-1*Math.floor(n),i="";return a<0&&(i=e.substr(a)),e.substr(0,o)+r+i};if(e.length<=t)return e;var c=t-o,u=a(e);if(u.query){var l=u.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);l&&(u.query=u.query.substr(0,l[1].length),e=i(u))}if(e.length<=t)return e;if(u.host&&(u.host=u.host.replace(/^www\./,""),e=i(u)),e.length<=t)return e;var f="";if(u.host&&(f+=u.host),f.length>=c)return u.host.length==t?(u.host.substr(0,t-o)+r).substr(0,c+n):s(f,c).substr(0,c+n);var h="";if(u.path&&(h+="/"+u.path),u.query&&(h+="?"+u.query),h){if((f+h).length>=c){if((f+h).length==t)return(f+h).substr(0,t);var p=c-f.length;return(f+s(h,p)).substr(0,c+n)}f+=h}if(u.fragment){var d="#"+u.fragment;if((f+d).length>=c){if((f+d).length==t)return(f+d).substr(0,t);var m=c-f.length;return(f+s(d,m)).substr(0,c+n)}f+=d}if(u.scheme&&u.host){var g=u.scheme+"://";if((f+g).length<c)return(g+f).substr(0,t)}if(f.length<=t)return f;var v="";return c>0&&(v=f.substr(-1*Math.floor(c/2))),(f.substr(0,Math.ceil(c/2))+r+v).substr(0,c+n)},e})},406:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(15),a=n(o),i=r(1),s=n(i),c=r(4),u=n(c),l=r(3),f=n(l),h=r(567),p=n(h),d=r(2),m=n(d),g=r(21),v=n(g),y=r(47),b=n(y),x=r(6),w=r(168),_=r(180),T=n(_),k=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.render=function(){var e=this;if(!this.props.data)return null;var t=this.props.data.comments,r=this.props.popularData;return m.default.createElement("div",{id:"comments"},1===this.props.page&&r&&r.length>0?m.default.createElement("div",{className:p.default.comments},m.default.createElement("div",{className:p.default.title},"最赞回应"),m.default.createElement("ul",null,r.map(function(t,r){return m.default.createElement(E,{key:r,comment:t,locked:e.props.locked,voteComment:e.props.voteComment})}))):null,m.default.createElement("div",{className:p.default.comments},m.default.createElement("div",{className:p.default.title},"全部回应"),t&&t.length>0?m.default.createElement("ul",null,t.map(function(t,r){return m.default.createElement(E,{key:r,pos:r+1,comment:t,locked:e.props.locked,voteComment:e.props.voteComment})})):m.default.createElement("div",{className:p.default.empty},"暂无回应")))},t}(d.Component),E=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.handleLikeClick=function(e){e.preventDefault(),e.stopPropagation(),this.props.voteComment(this.props.comment.id)},t.prototype.handleReplyClick=function(e){e.preventDefault(),e.stopPropagation();var t=(0,a.default)(this.props.comment);(0,w.dispatchMessageToClient)("replyTopicComment",{comment:t})},t.prototype.handleCommentClick=function(e){if("A"!==e.target.tagName.toUpperCase()){var t=(0,a.default)(this.props.comment);(0,w.dispatchMessageToClient)("showTopicCommentMenu",{comment:t})}},t.prototype.logUserClick=function(){var e=new b.default("click_avatar",{source:"topic_reply"});e.work()},t.prototype.getPublisherTypeName=function(e){switch(e){case 1:return"主办方";case 2:return"售票方";case 3:return"场地方";default:return""}},t.prototype.render=function(){var e,t=this,r=this.props.comment,n=r.author,o=r.text,a=r.create_time,i=r.vote_count,s=r.voted,c=r.ref_comment,u=r.publisher_type;c instanceof Array&&(c=c[0]);var l=this.props.pos?"comment_"+this.props.pos:null;return m.default.createElement("li",{id:l},m.default.createElement("a",{href:n.uri,onClick:function(){return t.logUserClick()}},m.default.createElement("img",{className:p.default.userAvatar,src:n.avatar})),m.default.createElement("div",{className:p.default.content,onClick:function(e){return t.handleCommentClick(e)}},m.default.createElement("p",{className:p.default.text},m.default.createElement("span",{className:p.default.userName},n.name),u&&u>0&&u<4&&m.default.createElement("span",{className:p.default.labelCreator},this.getPublisherTypeName(u))," ",m.default.createElement("span",{className:p.default.createTime},(0,x.formatTime)(a)),m.default.createElement("span",{className:p.default.operation},m.default.createElement("span",{className:(0,v.default)((e={},e[p.default.like]=!0,e[p.default.liked]=s,e)),onClick:function(e){return t.handleLikeClick(e)}}),i>0?m.default.createElement("span",{className:p.default.likeCount},i):null,this.props.locked?null:m.default.createElement("span",{className:p.default.reply,onClick:function(e){return t.handleReplyClick(e)}}))),c?m.default.createElement("div",{className:p.default.refComment},m.default.createElement("a",{href:c.author.uri},c.author.name)," ",c.text):null,m.default.createElement(T.default,{className:p.default.text,text:o})))},t}(d.Component);t.default=k},407:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(15),a=n(o),i=r(172),s=n(i),c=r(1),u=n(c),l=r(4),f=n(l),h=r(3),p=n(h),d=r(568),m=n(d),g=r(2),v=n(g),y=r(245),b=n(y),x=r(9),w=r(6),_=function(e){function t(r){return(0,u.default)(this,t),(0,f.default)(this,e.call(this,r))}return(0,p.default)(t,e),t.prototype.getContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=(0,w.escapeHtml)(e),e=e.replace(/(\r\n|\r|\n)/g,"<br/>");for(var r=t,n=Array.isArray(r),o=0,r=n?r:(0,s.default)(r);;){var a;if(n){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}var i=a,c=i.seq_id,u=i.alt,l=i.title;e=e.replace("&lt;图片"+c+"&gt;",'\n        <div class="content_img">\n          <img id=\''+c+"' src='"+u+'\' />\n          <p class="img_desc">'+(0,w.escapeHtml)(l)+"</p>\n        </div>\n      ")}return"ios"!==x.OS&&(e=b.default.link(e)),e=e.replace(/\[url=(.*?)](.*?)\[\/url]/g,'\n      <a href="$1">$2</a>\n    ')},t.prototype.handleClick=function(e){var t=e.target,r=this.props.data.photos,n=/(\d+)/;if("IMG"===t.tagName&&n.test(t.id)){var o=encodeURIComponent((0,a.default)(r)),i=void 0,s=t.id.match(n)[0];r.forEach(function(e,t){e.seq_id===s&&(i=t)}),(0,w.callUri)("douban://douban.com/gallery?data="+o+"&pos="+i)}},t.prototype.getPublisherTypeName=function(e){switch(e){case 1:return"主办方";case 2:return"售票方";case 3:return"场地方";default:return""}},t.prototype.render=function(){var e=this;if(!this.props.data)return null;var t=this.props.data,r=t.title,n=t.author,o=t.create_time,a=t.text,i=t.subject,s=t.publisher_type,c=t.photos;return v.default.createElement("div",{className:m.default.container},v.default.createElement("a",{href:i.uri,className:m.default.group},v.default.createElement("span",{className:m.default.arrow}),v.default.createElement("p",{className:m.default.groupName},i.title)),v.default.createElement("h1",{className:m.default.title},r),v.default.createElement("div",{className:m.default.meta},v.default.createElement("a",{href:n.uri},v.default.createElement("img",{className:m.default.authorAvatar,src:n.avatar})),v.default.createElement("div",{className:m.default.info},v.default.createElement("p",{className:m.default.authorInfo},v.default.createElement("a",{href:n.uri,className:m.default.authorName},n.name),s&&s>0&&s<4?v.default.createElement("span",{className:m.default.labelCreator},this.getPublisherTypeName(s)):null),v.default.createElement("p",{className:m.default.createInfo},v.default.createElement("span",{className:m.default.createTime},(0,w.formatTime)(o))))),v.default.createElement("div",{className:m.default.main,onClick:function(t){return e.handleClick(t)},dangerouslySetInnerHTML:{__html:this.getContent(a,c)}}))},t}(g.Component);t.default=_},554:function(e,t){},567:function(e,t){e.exports={comments:"dyEWs",title:"_2gcfd",empty:"_31mVP",userAvatar:"_jQqm",content:"_2EI96",text:"_2nanI",userName:"_1SpiD",labelCreator:"_3hRiA",createTime:"_3B4UK",operation:"ZHAHo",like:"_3Ejcf",liked:"_1J8Bk",likeCount:"_3_dpk",reply:"_2THFH",refComment:"_1jvDr"}},568:function(e,t){e.exports={container:"_3gCYi",group:"_2GeoY",groupAvatar:"_22Z-k",groupName:"_2-x60",arrow:"_2Etn3",title:"_3sqFk",meta:"_3ppTS",authorAvatar:"_2LbZX",info:"pesUb",authorInfo:"bLQR1",authorName:"_3Zg8L",labelCreator:"_239m4",createInfo:"_3aSVq",createTime:"_2wGtG",main:"wnZlx"}}});</script>
  </body>
</html>